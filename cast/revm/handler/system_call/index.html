<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="System call implementations for special EVM operations. System call logic for external state transitions required by certain EIPs (notably EIP-2935 and EIP-4788)."><title>cast::revm::handler::system_call - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-069232aa.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="cast" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (2e2642e64 2025-08-16)" data-channel="nightly" data-search-js="search-b069538f.js" data-settings-js="settings-5514c975.js" ><script src="../../../../static.files/storage-68b7e25d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../cast/index.html">cast</a><span class="version">1.3.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module system_<wbr>call</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example-using-transact_system_call-for-prepost-block-hooks" title="Example: Using `transact_system_call` for pre/post block hooks">Example: Using <code>transact_system_call</code> for pre/post block hooks</a></li></ul><h3><a href="#constants">Module Items</a></h3><ul class="block"><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In cast::<wbr>revm::<wbr>handler</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">cast</a>::<wbr><a href="../../index.html">revm</a>::<wbr><a href="../index.html">handler</a></div><h1>Module <span>system_call</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>System call implementations for special EVM operations.
System call logic for external state transitions required by certain EIPs (notably <a href="https://eips.ethereum.org/EIPS/eip-2935">EIP-2935</a> and <a href="https://eips.ethereum.org/EIPS/eip-4788">EIP-4788</a>).</p>
<p>These EIPs require the client to perform special system calls to update state (such as block hashes or beacon roots) at block boundaries, outside of normal EVM transaction execution. REVM provides the system call mechanism, but the actual state transitions must be performed by the client or test harness, not by the EVM itself.</p>
<h2 id="example-using-transact_system_call-for-prepost-block-hooks"><a class="doc-anchor" href="#example-using-transact_system_call-for-prepost-block-hooks">§</a>Example: Using <code>transact_system_call</code> for pre/post block hooks</h2>
<p>The client should use <a href="../../trait.SystemCallEvm.html#method.transact_system_call" title="method cast::revm::SystemCallEvm::transact_system_call"><code>SystemCallEvm::transact_system_call</code></a> method to perform required state updates before or after block execution, as specified by the EIP:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="comment">// Example: update beacon root (EIP-4788) at the start of a block
</span><span class="kw">let </span>beacon_root: Bytes = ...; <span class="comment">// obtained from consensus layer
</span><span class="kw">let </span>beacon_contract: Address = <span class="string">"0x000F3df6D732807Ef1319fB7B8bB8522d0Beac02"</span>.parse().unwrap();
evm.transact_system_call(beacon_contract, beacon_root)<span class="question-mark">?</span>;

<span class="comment">// Example: update block hash (EIP-2935) at the end of a block
</span><span class="kw">let </span>block_hash: Bytes = ...; <span class="comment">// new block hash
</span><span class="kw">let </span>history_contract: Address = <span class="string">"0x0000F90827F1C53a10cb7A02335B175320002935"</span>.parse().unwrap();
evm.transact_system_call(history_contract, block_hash)<span class="question-mark">?</span>;</code></pre></div>
<p>See the book section on <a href="../../book/src/external_state_transitions.md">External State Transitions</a> for more details.</p>
</div></details><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.SYSTEM_ADDRESS.html" title="constant cast::revm::handler::system_call::SYSTEM_ADDRESS">SYSTEM_<wbr>ADDRESS</a></dt><dd>The system address used for system calls.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.SystemCallCommitEvm.html" title="trait cast::revm::handler::system_call::SystemCallCommitEvm">System<wbr>Call<wbr>Commit<wbr>Evm</a></dt><dd>Extension of the <a href="../../trait.SystemCallEvm.html" title="trait cast::revm::SystemCallEvm"><code>SystemCallEvm</code></a> trait that adds a method that commits the state after execution.</dd><dt><a class="trait" href="trait.SystemCallEvm.html" title="trait cast::revm::handler::system_call::SystemCallEvm">System<wbr>Call<wbr>Evm</a></dt><dd>API for executing the system calls. System calls dont deduct the caller or reward the
beneficiary. They are used before and after block execution to insert or obtain blockchain state.</dd><dt><a class="trait" href="trait.SystemCallTx.html" title="trait cast::revm::handler::system_call::SystemCallTx">System<wbr>Call<wbr>Tx</a></dt><dd>Creates the system transaction with default values and set data and tx call target to system contract address
that is going to be called.</dd></dl></section></div></main></body></html>